<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Gameqube Minecraft Server</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Poppins, sans-serif;
      background: #1e1e1e;
      color: #f0f0f0;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background: #4CAF50;
      padding: 20px;
    }
    header h1 {
      margin: 0;
      color: #fff;
    }
    .content {
      padding: 40px 20px;
    }
    .ip {
      font-size: 1.2em;
      margin: 15px 0;
      color: #4CAF50;
    }
    .ip-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin: 10px 0;
    }
    button {
      background: #4CAF50;
      color: #fff;
      border: none;
      padding: 6px 12px;
      font-size: 0.9em;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background: #45a049;
    }
    .copied {
      color: #4CAF50;
      font-size: 0.9em;
      margin-top: 5px;
      display: none;
    }
    footer {
      background: #333;
      color: #aaa;
      padding: 15px;
      margin-top: 40px;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    ul li {
      margin: 8px 0;
    }
    /* Player list styles */
    .playerlist {
      max-width: 600px;
      margin: 30px auto;
      text-align: left;
    }
    .player {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: #2a2a2a;
      padding: 10px;
      border-radius: 6px;
      margin: 8px 0;
    }
    .player img {
      border-radius: 4px;
      margin-right: 10px;
    }
    .info {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .status-online {
      color: #4CAF50;
    }
    .status-offline {
      color: #f44336;
    }
  </style>
</head>
<body>
  <header>
    <h1>GameQube Minecraft Server</h1>
  </header>

  <div class="content">
    <p>Welcome to our Minecraft server!</p>

    <!-- First IP -->
    <div class="ip-container">
      <p class="ip">Server IP: <strong id="ip1">play.gameqube.buzz</strong></p>
      <button onclick="copyIP('ip1')">Copy</button>
    </div>

    <!-- Second IP -->
    <div class="ip-container">
      <p class="ip">If not working: <strong id="ip2">ebhscraft.progamer.me</strong></p>
      <button onclick="copyIP('ip2')">Copy</button>
    </div>
    <p id="copy-msg" class="copied">âœ… Copied to clipboard!</p>
    <h2>Version: 1.21.10</h2>
    <iframe style="width:728px;height:90px;max-width:100%;border:none;display:block;margin:auto" src="https://namemc.com/server/ebhscraft.progamer.me/embed" width="728" height="90"></iframe>
    <h2>Rules</h2>
    <ul>
      <li>1. Be respectful to others</li>
      <li>2. Griefing or stealing allowed</li>
      <li>3. Have fun!</li>
    </ul>

    <h2>Members</h2>
    <ul>
      <li>DaChazen1</li>
      <li>HashGpro something</li>
      <li>          </li>
      <li>          </li>
      <li>          </li>
      <li>          </li>
    </ul>

    <h2>Online Players</h2>
    <div class="playerlist" id="playerlist">
      <p>Loading player list...</p>
    </div>
  </div>

  <footer>
    <p>&copy; 2025 Gameqube Server</p>
  </footer>

  <script>
    function copyIP(id) {
      const ip = document.getElementById(id).innerText;
      navigator.clipboard.writeText(ip).then(() => {
        const msg = document.getElementById("copy-msg");
        msg.style.display = "block";
        msg.textContent = "âœ… Copied: " + ip;
        setTimeout(() => { msg.style.display = "none"; }, 2000);
      });
    }

    async function fetchPlayers() {
      try {
        // Try first IP
        let res = await fetch('https://api.mcsrvstat.us/2/play.gameqube.buzz');
        let data = await res.json();

        // If server offline, try second IP
        if (!data.online) {
          res = await fetch('https://api.mcsrvstat.us/2/ebhscraft.progamer.me');
          data = await res.json();
        }

        const container = document.getElementById('playerlist');
        container.innerHTML = '';

        if (!data.players || !data.players.list || data.players.list.length === 0) {
          container.innerHTML = '<p>No players online</p>';
          return;
        }

        data.players.list.forEach(player => {
          const row = document.createElement('div');
          row.className = 'player';
          row.innerHTML = `
            <div class="info">
              <img src="https://mc-heads.net/avatar/${player}/32" alt="${player}">
              <span>${player}</span>
            </div>
            <div>
              <span class="status-online">ðŸŸ¢ Online</span>
              <span>Ping: ${data.debug?.ping || 'N/A'}ms</span>
            </div>
          `;
          container.appendChild(row);
        });
      } catch (err) {
        console.error(err);
        document.getElementById('playerlist').innerHTML = '<p>Error loading player list</p>';
      }
    }

    setInterval(fetchPlayers, 5000); // refresh every 5s
    fetchPlayers();
  </script>
</body>
</html>
